<!DOCTYPE html>
<html>
<head>
  <title>Nabila Timur Indonesia</title>
  <link rel="icon" href="assets/foto/natindo logo.png" />
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .container {
      width: 70%;
      margin: 40px auto;
      padding: 20px;
      background-color: #f9f9f9;
      border: 10px solid #ddd;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    label {
      display: block;
      margin-bottom: 10px;
    }
    input[type="number"] {
      width: 97%;
      height: 20px;
      margin-bottom: 20px;
      padding: 10px;
      border: 1px solid #ccc;
    }
    button {
      width: 100%;
      height: 40px;
      background-color: #4CAF50;
      color: #fff;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #3e8e41;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Penerimaan Calon Karyawan</h1>
    <form id="form">
      <script>
        for (let i =   0; i < 5; i++) {
          document.write(`
            <h2>Calon Karyawan ${i + 1}</h2>
            <label>Nama:</label>
            <input type="text" id="nama-${i}" required>
            <br><br>
            <label>Umur:</label>
            <input type="number" id="umur-${i}" required>
      
            <label>Jenis Kelamin:</label>
            <select id="jenis-kelamin-${i}" required>
              <option value="">Pilih Jenis Kelamin</option>
              <option value="Pria">Pria</option>
              <option value="Wanita">Wanita</option>
            </select>
            <br><br>
            <label>Pendidikan:</label>
            <select id="pendidikan-${i}" required>
              <option value="">Pilih Pendidikan</option>
              <option value="SMA">SMA</option>
              <option value="D3">D3</option>
              <option value="S1">S1</option>
              <option value="S2">S2</option>
            </select>
            <br><br>
            <label>Memiliki Handphone/Laptop:</label>
            <select id="memiliki-handphone-laptop-${i}" required>
              <option value="">Pilih</option>
              <option value="Handphone">Handphone</option>
              <option value="Handphone dan Laptop">Handphone dan Laptop</option>
            </select>
            <br><br>
            <label>Nilai Wawancara:</label>
            <input type="number" id="input1-${i}" required>
            <label>Nilai Tes Komputer:</label>
            <input type="number" id="input2-${i}" required>
            <hr>
          `);
        }
      </script>
      <button id="hitung">Hitung</button>
    </form>
    <div id="hasil"></div>
    <br><br>
    <button id="unduh-pdf">Unduh PDF</button>
  </div>
  <script>
    document.getElementById("unduh-pdf").addEventListener("click", function() {
    const doc = new jsPDF();
    doc.setFontSize(16);
    doc.text("Hasil Seleksi Calon Karyawan", 10, 10);
    const headers = ["Nama", "Umur", "Jenis Kelamin", "Pendidikan", "Handphone/Laptop", "Nilai Wawancara", "Nilai Tes Keahlian", "Hasil Akhir", "Status"];
    const data = [];
    for (let i = 0; i < 6; i++) {
        const nama = document.getElementById(nama-${i}).value;
        const umur = document.getElementById(umur-${i}).value;
        const jenisKelamin = document.getElementById(jenis-kelamin-${i}).value;
        const pendidikan = document.getElementById(pendidikan-${i}).value;
        const memilikiHandphoneLaptop = document.getElementById(memiliki-handphone-laptop-${i}).value;
        const input1 = parseFloat(document.getElementById(input1-${i}).value);
        const input2 = parseFloat(document.getElementById(input2-${i}).value);
        const totalSkor = input1 + input2;
        const hasilAkhir = 75 + (totalSkor - 150) / 10;
        const status = hasilAkhir >= 75 ? "DITERIMA" : "TIDAK DITERIMA";
        data.push([nama, umur, jenisKelamin, pendidikan, memilikiHandphoneLaptop, input1.toFixed(2), input2.toFixed(2), hasilAkhir.toFixed(2), status]);
    }
    let y = 20;
    doc.setFontSize(10);
    headers.forEach((header, index) => {
        doc.text(header, 10 + index * 20, y);
    });
    y += 10;
    data.forEach(row => {
        row.forEach((cell, index) => {
            doc.text(cell.toString(), 10 + index * 20, y);
        });
        y += 10;
    });
    doc.save("hasil_seleksi.pdf");
});

// Fuzzifikasi
const rendah1 = fuzzifikasiRendah(input1);
const tinggi1 = fuzzifikasiTinggi(input1);
const rendah2 = fuzzifikasiRendah(input2);
const tinggi2 = fuzzifikasiTinggi(input2);

// Inferensi
const rule1 = Math.min(rendah1, rendah2);
const rule2 = Math.min(rendah1, tinggi2);
const rule3 = Math.min(tinggi1, rendah2);
const rule4 = Math.min(tinggi1, tinggi2);

// Defuzzifikasi
let output = 75 + (totalSkor - 150) / 10;
// Pastikan output tidak lebih dari 100
output = Math.min(output, 100);
let keterangan;
if (totalSkor < minimalSkor) {
  keterangan = `TIDAK DITERIMA (Total skor kurang dari ${minimalSkor})`;
} else if (output >= 75 && output <= 100) {
  keterangan = "DITERIMA";
} else if (output >= 0 && output < 75) {
  keterangan = "TIDAK DITERIMA";
}

// Tampilkan hasil
hasil += `
  <h2>Hasil untuk ${nama}:</h2>
  <p>Nama: ${nama}</p>
  <p>Umur: ${umur}</p>
  <p>Jenis Kelamin: ${jenisKelamin}</p>
  <p>Pendidikan: ${pendidikan}</p>
  <p>Memiliki Handphone/Laptop: ${memilikiHandphoneLaptop}</p>
  <p>Nilai Wawancara: ${input1}</p>
  <p>Nilai Tes Komputer: ${input2}</p>
  <p>Total Skor: ${totalSkor}</p>
  <p>Nilai Output: ${output.toFixed(2)}</p>
  <p>Keterangan: ${keterangan}</p>
  <hr>
`;
      }
      document.getElementById("hasil").innerHTML = hasil;
    });

    // Fungsi fuzzifikasi
    function fuzzifikasiRendah(x) {
      if (x <= 40) return 1;
      else if (x >= 60) return 0;
      else return (60 - x) / 20;
    }

    function fuzzifikasiTinggi(x) {
      if (x <= 40) return 0;
      else if (x >= 60) return 1;
      else return (x - 40) / 20;
    }

  </script>
</body>

</html>
